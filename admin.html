<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin ‚Äì Weiterbildungsplattform</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Navbar injected by js/ui.js -->

<div class="page-header">
  <h1>Adminbereich</h1>
  <p class="lead">Hier k√∂nnen Inhalte und Module der Plattform verwaltet werden.</p>
</div>

<!-- Stats Dashboard -->
<section>
    <h2>√úbersicht</h2>
    <div id="adminStats" class="features" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
        <!-- Stats will be rendered here -->
    </div>
</section>

<!-- Backup / Restore -->
<section style="background:var(--panel); padding:20px; border-radius:14px; margin-top:20px; border:1px solid var(--border)">
    <h3>Systemverwaltung</h3>
    <p>Daten sichern oder wiederherstellen.</p>
    <button onclick="exportData()" class="secondary">üíæ Backup herunterladen</button>
    <button onclick="triggerImport()" class="secondary">üìÇ Backup wiederherstellen</button>
    <input type="file" id="importFile" style="display:none" onchange="importData(this)" accept=".json">
</section>

<!-- User Management Placeholder -->
<section style="background:var(--panel); padding:20px; border-radius:14px; margin-top:20px; border:1px solid var(--border)">
    <h3>Benutzerverwaltung</h3>
    <p>Aktuell erfolgt die Benutzerverwaltung √ºber die Seed-Daten und den Rollen-Umschalter im Men√º.</p>
    <div style="display:flex; gap:10px; margin-top:10px">
        <span class="role-badge">Admin</span>
        <span class="role-badge">Editor</span>
        <span class="role-badge">User</span>
    </div>
</section>

<section>
  <h2>Neues Modul anlegen</h2>
  <div style="display:flex; flex-wrap:wrap; align-items:center; gap:10px">
      <input id="moduleTitle" placeholder="Modultitel" style="flex:1; min-width:200px">
      <input id="moduleDesc" placeholder="Beschreibung" style="flex:2; min-width:200px">
      <button onclick="addModule()">Modul hinzuf√ºgen</button>
  </div>
</section>

<section id="moduleManagement">
  <h2>Vorhandene Module</h2>
  <div id="moduleList" class="features"></div>
</section>

<!-- Course Management -->
<section id="courseManagement" style="display:none; background:rgba(255,255,255,0.03); padding:20px; border-radius:14px; margin-top:40px; border:1px solid var(--border)">
  <h2 id="selectedModuleTitle">Kursverwaltung</h2>
  <div style="margin-bottom:20px">
    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px">
        <input id="courseTitle" placeholder="Kurstitel">
        <select id="courseDifficulty">
            <option value="Einfach">Einfach</option>
            <option value="Mittel" selected>Mittel</option>
            <option value="Fortgeschritten">Fortgeschritten</option>
        </select>
    </div>
    <input id="courseDesc" placeholder="Beschreibung">
    <button onclick="addCourse()">Kurs hinzuf√ºgen</button>
    <button onclick="closeCourseMgmt()" class="secondary" style="margin-left:10px">Schlie√üen</button>
  </div>
  <div id="courseList" class="features"></div>
</section>

<!-- Lesson Management -->
<section id="lessonManagement" style="display:none; background:rgba(255,255,255,0.03); padding:20px; border-radius:14px; margin-top:40px; border:1px solid var(--border)">
  <h2 id="selectedCourseTitle">Lektionsverwaltung</h2>
  <div style="margin-bottom:20px">
    <div style="display:grid; grid-template-columns: 2fr 1fr; gap:10px">
        <input id="lessonTitle" placeholder="Lektionstitel">
        <input id="lessonDuration" placeholder="Dauer (z.B. 15 min)">
    </div>
    <textarea id="lessonContent" placeholder="Inhalt (HTML erlaubt, z.B. <b>Fett</b>, <p>Absatz</p>)" style="width:100%; height:200px; margin:5px; border-radius:8px; display:block"></textarea>
    <div style="margin-top:10px">
        <button onclick="addLesson()">Lektion hinzuf√ºgen</button>
        <button onclick="closeLessonMgmt()" class="secondary" style="margin-left:10px">Schlie√üen</button>
    </div>
  </div>
  <div id="lessonList"></div>
</section>

<!-- Quiz Management -->
<section id="quizManagement" style="display:none; background:var(--panel); padding:20px; border-radius:14px; margin-top:40px; border:1px solid var(--border)">
    <h2>Quiz verwalten</h2>
    <p>Fragen f√ºr die gew√§hlte Lektion erstellen.</p>

    <div style="background:var(--bg); padding:15px; border-radius:10px; margin-bottom:20px">
        <h4>Neue Frage</h4>
        <input id="qText" placeholder="Fragetext">
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px">
            <input id="qOpt1" placeholder="Antwort 1">
            <input id="qOpt2" placeholder="Antwort 2">
            <input id="qOpt3" placeholder="Antwort 3 (Optional)">
        </div>
        <label style="display:block; margin:10px 5px">Korrekte Antwort:</label>
        <select id="qCorrect">
            <option value="0">Antwort 1</option>
            <option value="1">Antwort 2</option>
            <option value="2">Antwort 3</option>
        </select>
        <button onclick="addQuestion()" class="success">Frage hinzuf√ºgen</button>
        <button onclick="closeQuizMgmt()" class="secondary" style="margin-left:10px">Schlie√üen</button>
    </div>

    <div id="quizQuestionsList" class="features"></div>
</section>

<script src="js/db.js"></script>
<script src="js/seed.js"></script>
<script src="js/ui.js"></script>
<script src="js/app.js"></script>

</body>
</html>
